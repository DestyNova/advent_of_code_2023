main =>
  R := sum(map(read_file_lines(),extract)),
  writeln(R).

sum_codes([], C) = C.
sum_codes([S|XS], C) = sum_codes(XS, C + extract(S)).

extract([]) = 0.
extract(S) = R =>
  Ds = [D : D in S, D in "0123456789"],
  R = parse_term([Ds[1], Ds[Ds.len]]).
